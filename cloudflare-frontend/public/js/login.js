let login=document.getElementById("login-button"),guestLogin=document.getElementById("guest-login-link"),username=document.getElementById("username"),password=document.getElementById("password");if(username.focus(),!login)throw new Error("login-button not found");login.addEventListener("click",async()=>{var e=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:username.value,password:password.value})});200===e.status?window.Notify("success","Email sent successfully"):301===e.status?window.location.href="/game":(e=await e.json(),window.Notify("error",e.message))}),guestLogin.addEventListener("click",async e=>{e.preventDefault();var e=await fetch("/guest-login",{method:"POST",headers:{"Content-Type":"application/json"}});301===e.status?window.location.href="/game":(e=await e.json(),window.Notify("error",e.message))}),document.addEventListener("keydown",e=>{"Enter"===e.key&&login.click()});