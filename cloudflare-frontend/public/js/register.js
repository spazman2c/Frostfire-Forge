let register=document.getElementById("register-button"),email=document.getElementById("register-email"),username=(email.focus(),document.getElementById("register-username")),password=document.getElementById("register-password"),password2=document.getElementById("register-confirm-password");if(!register)throw new Error("register not found");register.addEventListener("click",async()=>{var e=await fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:email.value,username:username.value,password:password.value,password2:password2.value})});200===e.status?window.Notify("success","Email sent successfully"):301===e.status?window.location.href="/game":(e=await e.json(),window.Notify("error",e.message))}),document.addEventListener("keydown",e=>{"Enter"===e.key&&register.click()});